<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>kakfa实践 | 百草春生</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="./assets/img/favicon.ico">
    <meta name="description" content="glaucus技术博客">
    <meta name="author" content="百草春生">
    <meta name="keywords" content="Java,Golang,后端开发">
    
    <link rel="preload" href="./assets/css/0.styles.22c4509e.css" as="style"><link rel="preload" href="./assets/js/app.ed7a6a80.js" as="script"><link rel="preload" href="./assets/js/2.6bc427bd.js" as="script"><link rel="preload" href="./assets/js/28.9ce70dfe.js" as="script"><link rel="prefetch" href="./assets/js/10.089a59d3.js"><link rel="prefetch" href="./assets/js/100.9f65e79c.js"><link rel="prefetch" href="./assets/js/101.21cde4e7.js"><link rel="prefetch" href="./assets/js/102.6fd88697.js"><link rel="prefetch" href="./assets/js/103.359357f4.js"><link rel="prefetch" href="./assets/js/11.0d2a9ef2.js"><link rel="prefetch" href="./assets/js/12.8c47fe05.js"><link rel="prefetch" href="./assets/js/13.8554091e.js"><link rel="prefetch" href="./assets/js/14.16673f13.js"><link rel="prefetch" href="./assets/js/15.3d54afd2.js"><link rel="prefetch" href="./assets/js/16.430c3482.js"><link rel="prefetch" href="./assets/js/17.0db74b9b.js"><link rel="prefetch" href="./assets/js/18.982dc2ff.js"><link rel="prefetch" href="./assets/js/19.f2663e04.js"><link rel="prefetch" href="./assets/js/20.5852a115.js"><link rel="prefetch" href="./assets/js/21.dcac2fab.js"><link rel="prefetch" href="./assets/js/22.480c3e77.js"><link rel="prefetch" href="./assets/js/23.4b471df5.js"><link rel="prefetch" href="./assets/js/24.c4d43955.js"><link rel="prefetch" href="./assets/js/25.63c16b7a.js"><link rel="prefetch" href="./assets/js/26.de87ddff.js"><link rel="prefetch" href="./assets/js/27.5ff9e71c.js"><link rel="prefetch" href="./assets/js/29.693254da.js"><link rel="prefetch" href="./assets/js/3.94f5e9c9.js"><link rel="prefetch" href="./assets/js/30.ccde335c.js"><link rel="prefetch" href="./assets/js/31.f472c9d7.js"><link rel="prefetch" href="./assets/js/32.0ee8786c.js"><link rel="prefetch" href="./assets/js/33.5978dd53.js"><link rel="prefetch" href="./assets/js/34.e437105d.js"><link rel="prefetch" href="./assets/js/35.d8b3fd41.js"><link rel="prefetch" href="./assets/js/36.dc9c7a19.js"><link rel="prefetch" href="./assets/js/37.598797b7.js"><link rel="prefetch" href="./assets/js/38.bffc1a9f.js"><link rel="prefetch" href="./assets/js/39.a496adf1.js"><link rel="prefetch" href="./assets/js/4.e5ac8b52.js"><link rel="prefetch" href="./assets/js/40.1c502242.js"><link rel="prefetch" href="./assets/js/41.8e124ccd.js"><link rel="prefetch" href="./assets/js/42.560b1846.js"><link rel="prefetch" href="./assets/js/43.509c31dd.js"><link rel="prefetch" href="./assets/js/44.090493f7.js"><link rel="prefetch" href="./assets/js/45.36d9c506.js"><link rel="prefetch" href="./assets/js/46.ba9ab5f2.js"><link rel="prefetch" href="./assets/js/47.bf5ae339.js"><link rel="prefetch" href="./assets/js/48.98c7dce0.js"><link rel="prefetch" href="./assets/js/49.fbe69aaf.js"><link rel="prefetch" href="./assets/js/5.c11f0763.js"><link rel="prefetch" href="./assets/js/50.2fcc044a.js"><link rel="prefetch" href="./assets/js/51.99003659.js"><link rel="prefetch" href="./assets/js/52.538d5e22.js"><link rel="prefetch" href="./assets/js/53.e429e1ed.js"><link rel="prefetch" href="./assets/js/54.a6f67a4b.js"><link rel="prefetch" href="./assets/js/55.5ed0d0db.js"><link rel="prefetch" href="./assets/js/56.90e8bdf9.js"><link rel="prefetch" href="./assets/js/57.bd49cc5b.js"><link rel="prefetch" href="./assets/js/58.696f8423.js"><link rel="prefetch" href="./assets/js/59.c6789649.js"><link rel="prefetch" href="./assets/js/6.513c8ad6.js"><link rel="prefetch" href="./assets/js/60.56fe82c8.js"><link rel="prefetch" href="./assets/js/61.3a408ed7.js"><link rel="prefetch" href="./assets/js/62.a3630e78.js"><link rel="prefetch" href="./assets/js/63.6ab9d691.js"><link rel="prefetch" href="./assets/js/64.55200531.js"><link rel="prefetch" href="./assets/js/65.a636362c.js"><link rel="prefetch" href="./assets/js/66.93548848.js"><link rel="prefetch" href="./assets/js/67.b4b0ef80.js"><link rel="prefetch" href="./assets/js/68.a69dd0ee.js"><link rel="prefetch" href="./assets/js/69.79859b74.js"><link rel="prefetch" href="./assets/js/7.9f0383d5.js"><link rel="prefetch" href="./assets/js/70.265cb375.js"><link rel="prefetch" href="./assets/js/71.d2b2b6c6.js"><link rel="prefetch" href="./assets/js/72.30b3a6d6.js"><link rel="prefetch" href="./assets/js/73.38308599.js"><link rel="prefetch" href="./assets/js/74.dd6deadc.js"><link rel="prefetch" href="./assets/js/75.138dac3f.js"><link rel="prefetch" href="./assets/js/76.9fe5b0e3.js"><link rel="prefetch" href="./assets/js/77.a0459432.js"><link rel="prefetch" href="./assets/js/78.47663224.js"><link rel="prefetch" href="./assets/js/79.caf768e6.js"><link rel="prefetch" href="./assets/js/8.b977ce57.js"><link rel="prefetch" href="./assets/js/80.7f22b678.js"><link rel="prefetch" href="./assets/js/81.e0c438af.js"><link rel="prefetch" href="./assets/js/82.10845c61.js"><link rel="prefetch" href="./assets/js/83.b44b0890.js"><link rel="prefetch" href="./assets/js/84.fe9f3b95.js"><link rel="prefetch" href="./assets/js/85.b6e913aa.js"><link rel="prefetch" href="./assets/js/86.ebf0c7ae.js"><link rel="prefetch" href="./assets/js/87.70d8e15f.js"><link rel="prefetch" href="./assets/js/88.44a94037.js"><link rel="prefetch" href="./assets/js/89.cd714385.js"><link rel="prefetch" href="./assets/js/9.85a0d82a.js"><link rel="prefetch" href="./assets/js/90.495c0af0.js"><link rel="prefetch" href="./assets/js/91.e3dcaece.js"><link rel="prefetch" href="./assets/js/92.cb0f42a7.js"><link rel="prefetch" href="./assets/js/93.3fdec098.js"><link rel="prefetch" href="./assets/js/94.e7f95d83.js"><link rel="prefetch" href="./assets/js/95.d6eddedc.js"><link rel="prefetch" href="./assets/js/96.fd85d1af.js"><link rel="prefetch" href="./assets/js/97.d8c96ef8.js"><link rel="prefetch" href="./assets/js/98.8d262881.js"><link rel="prefetch" href="./assets/js/99.29ad6600.js">
    <link rel="stylesheet" href="./assets/css/0.styles.22c4509e.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><!----> <span class="site-name">百草春生</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/./" class="nav-link">首页</a></div><div class="nav-item"><a href="/./categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/./tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/./pages/8c2319/" class="nav-link">指南</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="模块" class="dropdown-title"><!----> <span class="title" style="display:;">模块</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./pages/bf6a41/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/./pages/416f59/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/./pages/416f59/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/./pages/ecb94e/" class="nav-link">Golang</a></li><li class="dropdown-item"><!----> <a href="/./pages/eeefb8/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/./pages/5111ec/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/./pages/de595b/" class="nav-link">折腾</a></li></ul></div></div><div class="nav-item"><a href="/./archives/" class="nav-link">归档</a></div> <a href="https://github.com/glaucus" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/./" class="nav-link">首页</a></div><div class="nav-item"><a href="/./categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/./tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/./pages/8c2319/" class="nav-link">指南</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="模块" class="dropdown-title"><!----> <span class="title" style="display:;">模块</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./pages/bf6a41/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/./pages/416f59/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/./pages/416f59/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/./pages/ecb94e/" class="nav-link">Golang</a></li><li class="dropdown-item"><!----> <a href="/./pages/eeefb8/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/./pages/5111ec/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/./pages/de595b/" class="nav-link">折腾</a></li></ul></div></div><div class="nav-item"><a href="/./archives/" class="nav-link">归档</a></div> <a href="https://github.com/glaucus" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/./pages/bf6a41/" class="sidebar-link">简介</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Java基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./pages/1b4c22/" class="sidebar-link">String类的深入学习</a></li><li><a href="/./pages/5e3bc5/" class="sidebar-link">HashMap源码学习</a></li><li><a href="/./pages/ebaf05/" class="sidebar-link">Java8新特性回顾</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Java框架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./pages/997b00/" class="sidebar-link">POI事件模式解析并读取Excel文件数据</a></li><li><a href="/./pages/d33c3f/" class="sidebar-link">SpringMVC的执行流程源码分析</a></li><li><a href="/./pages/a9aa56/" class="sidebar-link">netty+websocket实现即时通讯功能</a></li><li><a href="/./pages/4f6cc1/" class="sidebar-link">分布式定时任务解决方案xxl-job</a></li><li><a href="/./pages/394d6d/" class="sidebar-link">spring-session实现集群session共享</a></li><li><a href="/./pages/e8a5ba/" class="sidebar-link">springcloud优雅下线服务</a></li><li><a href="/./pages/035d06/" class="sidebar-link">Java日志发展历史</a></li><li><a href="/./pages/af13b1/" class="sidebar-link">Mybatis Generator配置</a></li><li><a href="/./pages/72069a/" class="sidebar-link">JavaSPI机制和Springboot自动装配原理</a></li><li><a href="/./pages/9e812c/" class="sidebar-link">Spring Cloud Config接入</a></li><li><a href="/./pages/3ec180/" class="sidebar-link">使用spring validation进行参数校验</a></li><li><a href="/./pages/f54d45/" class="sidebar-link">dubbo接口超时配置</a></li><li><a href="/./pages/ad98f4/" class="sidebar-link">ConfigurationProperties注解</a></li><li><a href="/./pages/686387/" class="sidebar-link">EasyExcel导出excel</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>中间件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./pages/8abe9c/" class="sidebar-link">分布式锁解决方案</a></li><li><a href="/./pages/67b290/" class="sidebar-link">关于消息中间件MQ</a></li><li><a href="/./pages/b9600f/" class="sidebar-link">kafka学习记录</a></li><li><a href="/./pages/d814c5/" aria-current="page" class="active sidebar-link">kakfa实践</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./pages/d814c5/#下载" class="sidebar-link">下载</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#kafka入门介绍" class="sidebar-link">kafka入门介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./pages/d814c5/#kafka作为一个分布式流平台-意味着什么" class="sidebar-link">kafka作为一个分布式流平台，意味着什么</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#kafka的优势" class="sidebar-link">kafka的优势</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#kafka的几个概念" class="sidebar-link">kafka的几个概念</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#kafka四个核心api" class="sidebar-link">kafka四个核心API</a></li></ul></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#快速启动kafka" class="sidebar-link">快速启动kafka</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./pages/d814c5/#启动kafka需要的运行环境" class="sidebar-link">启动kafka需要的运行环境</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#打开另一个命令终端启动kafka服务" class="sidebar-link">打开另一个命令终端启动kafka服务</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#创建一个主题-topic" class="sidebar-link">创建一个主题(topic)</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#发送消息到topic" class="sidebar-link">发送消息到Topic</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#消费topic中的消息" class="sidebar-link">消费Topic中的消息</a></li></ul></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#kafka的java客户端" class="sidebar-link">Kafka的Java客户端</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./pages/d814c5/#依赖" class="sidebar-link">依赖</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#修改kafka配置" class="sidebar-link">修改kafka配置</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#开放虚拟机端口9092" class="sidebar-link">开放虚拟机端口9092</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#生产者" class="sidebar-link">生产者</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#消费者" class="sidebar-link">消费者</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#启动" class="sidebar-link">启动</a></li></ul></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#springboot集成kafka" class="sidebar-link">springboot集成kafka</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./pages/d814c5/#依赖-2" class="sidebar-link">依赖</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#生产者-2" class="sidebar-link">生产者</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#消费者-2" class="sidebar-link">消费者</a></li><li class="sidebar-sub-header"><a href="/./pages/d814c5/#测试" class="sidebar-link">测试</a></li></ul></li></ul></li><li><a href="/./pages/1b7ea7/" class="sidebar-link">kakfa重复消费问题处理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./pages/c0bb8c/" class="sidebar-link">MySql索引</a></li><li><a href="/./pages/2417e1/" class="sidebar-link">SQL优化学习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>开发工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./pages/035fc5/" class="sidebar-link">Maven的生命周期</a></li><li><a href="/./pages/da5079/" class="sidebar-link">nexus无法下载依赖的问题记录</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./pages/ff387b/" class="sidebar-link">linux服务器安装OpenOffice踩坑</a></li><li><a href="/./pages/ffedcb/" class="sidebar-link">POI踩坑-zip file is closed</a></li><li><a href="/./pages/580d33/" class="sidebar-link">OpenJDK没有jstack等命令的解决办法</a></li><li><a href="/./pages/6889f4/" class="sidebar-link">微信小程序加密数据对称解密工具类</a></li><li><a href="/./pages/7c3bf4/" class="sidebar-link">mybatis的classpath配置导致的jar包读取问题</a></li><li><a href="/./pages/4f835e/" class="sidebar-link">feign请求导致的用户ip获取问题记录</a></li><li><a href="/./pages/3c525b/" class="sidebar-link">ribbon刷新服务列表间隔和canal的坑</a></li><li><a href="/./pages/e048ec/" class="sidebar-link">cpu占用率高排查思路</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>spring</span> <!----></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1cd794fe><div class="articleInfo" data-v-1cd794fe><ul class="breadcrumbs" data-v-1cd794fe><li data-v-1cd794fe><a href="/./" title="首页" class="iconfont icon-home router-link-active" data-v-1cd794fe></a></li> <li data-v-1cd794fe><a href="/./categories/?category=java" title="分类" data-v-1cd794fe>java</a></li> <li data-v-1cd794fe><a href="/./categories/?category=%E4%B8%AD%E9%97%B4%E4%BB%B6" title="分类" data-v-1cd794fe>中间件</a></li> <!----></ul> <div class="info" data-v-1cd794fe><div title="作者" class="author iconfont icon-touxiang" data-v-1cd794fe><a href="https://github.com/glaucus169" target="_blank" title="作者" class="beLink" data-v-1cd794fe>glaucus</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1cd794fe><a href="javascript:;" data-v-1cd794fe>2021-06-19</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">
          kakfa实践
        </h1>  <div class="theme-vdoing-content content__default"><h1 id="kafka实践"><a href="#kafka实践" class="header-anchor">#</a> kafka实践</h1> <h2 id="下载"><a href="#下载" class="header-anchor">#</a> 下载</h2> <p>官方地址:https://kafka.apache.org/downloads.html</p> <p>linux下载<code>wget https://mirror-hk.koddos.net/apache/kafka/2.8.0/kafka_2.13-2.8.0.tgz</code></p> <h2 id="kafka入门介绍"><a href="#kafka入门介绍" class="header-anchor">#</a> kafka入门介绍</h2> <h3 id="kafka作为一个分布式流平台-意味着什么"><a href="#kafka作为一个分布式流平台-意味着什么" class="header-anchor">#</a> kafka作为一个分布式流平台，意味着什么</h3> <ul><li>发布和订阅消息（流），在这方面它类似一个消息队列</li> <li>以容错（故障转移）的方式存储消息（流）</li> <li>在消息流发生时处理它们</li></ul> <h3 id="kafka的优势"><a href="#kafka的优势" class="header-anchor">#</a> kafka的优势</h3> <ul><li>构建实时的数据管道，可靠的获取系统和应用程序间的数据</li> <li>构建实时流的应用程序，对数据流进行转换或反应</li></ul> <h3 id="kafka的几个概念"><a href="#kafka的几个概念" class="header-anchor">#</a> kafka的几个概念</h3> <ul><li>kafka作为集群运行在一个或多个服务器上</li> <li>kafka集群存储的消息是以topic为类别记录的</li> <li>每个消息由一个key，一个value和时间戳构成</li></ul> <h3 id="kafka四个核心api"><a href="#kafka四个核心api" class="header-anchor">#</a> kafka四个核心API</h3> <ul><li>Product API：发布消息到一个或多个topic中</li> <li>Consumer API：订阅一个或多个topic，并处理产生的消息</li> <li>Streams API：充当一个流处理器 ，从一个或多个topic消费输入流，并产生一个输出流到一个或多个输出topic，有效地将输入流转换到输出流</li> <li>Connector API：可构建或运行可重用的生产者或消费者，将topic连接到现有的应用程序或数据系统。例如连接到关系型数据库的连接器可以捕捉表的每个变更</li></ul> <h2 id="快速启动kafka"><a href="#快速启动kafka" class="header-anchor">#</a> 快速启动kafka</h2> <p>官方文档:http://kafka.apache.org/quickstart</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>强烈建议新学习一项新内容的时候尽量阅读英文原版文档</p></div> <h3 id="启动kafka需要的运行环境"><a href="#启动kafka需要的运行环境" class="header-anchor">#</a> 启动kafka需要的运行环境</h3> <p>使用kafka自带的zookeeper启动</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">tar</span> -xzf kafka_2.13-2.8.0.tgz
<span class="token builtin class-name">cd</span> kafka_2.13-2.8.0
bin/zookeeper-server-start.sh config/zookeeper.properties <span class="token operator">&amp;</span> <span class="token comment">#后台启动</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>在kafka0.5x版本后已经自带了zookeeper, 而在最新的kafka2.8版本中,不再需要zookeeper服务,官网把这种称之为KRaft模式</p></blockquote> <h3 id="打开另一个命令终端启动kafka服务"><a href="#打开另一个命令终端启动kafka服务" class="header-anchor">#</a> 打开另一个命令终端启动kafka服务</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>bin/kafka-server-start.sh config/server.properties
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>等所有服务等启动完毕,kafka就已经是可用的了</p> <h3 id="创建一个主题-topic"><a href="#创建一个主题-topic" class="header-anchor">#</a> 创建一个主题(topic)</h3> <p>创建一个名为quickstart-events的topic,只有一个分区和一个备份</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>bin/kafka-topics.sh --create --bootstrap-server localhost:9092 --replication-factor <span class="token number">1</span> --partitions <span class="token number">1</span> --topic quickstart-events

查看已创建的topic信息

​```bash
<span class="token punctuation">[</span>root@localhost kafka_2.13-2.8.0<span class="token punctuation">]</span><span class="token comment"># bin/kafka-topics.sh --describe --topic quickstart-events --bootstrap-server localhost:9092</span>
Topic: quickstart-events        TopicId: iOM06pJVQV-y_A6QkmfeHw PartitionCount: <span class="token number">1</span>       ReplicationFactor: <span class="token number">1</span>  Configs: segment.bytes<span class="token operator">=</span><span class="token number">1073741824</span>
        Topic: quickstart-events        Partition: <span class="token number">0</span>    Leader: <span class="token number">0</span>       Replicas: <span class="token number">0</span>     Isr: <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="发送消息到topic"><a href="#发送消息到topic" class="header-anchor">#</a> 发送消息到Topic</h3> <p>kafka提供了一个命令行工具,可以从输入文件或命令行中读取消息并发送给kafka集群,每一行是一条消息.运行<code>producer(生产者)</code>,然后再控制台输入几条消息到服务器</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>bin/kafka-console-producer.sh --topic quickstart-events --bootstrap-server localhost:9092
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>输入此命令后进入交互模式,便可以开始发送消息到topic</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token operator">&gt;</span>hello
<span class="token operator">&gt;</span>hello world
<span class="token operator">&gt;</span>this is first kafka message
<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>可以使用<code>Ctrl+C</code>退出交互模式</p> <h3 id="消费topic中的消息"><a href="#消费topic中的消息" class="header-anchor">#</a> 消费Topic中的消息</h3> <p>打开另外一个终端窗口运行命令</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>bin/kafka-console-consumer.sh --topic quickstart-events --from-beginning --bootstrap-server localhost:9092
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以看到输出了刚才我们通过生产者终端发送的消息</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>hello
hello world
this is first kafka message
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>此时如果我们再在生产者终端发送消息,消费者终端也能实时进行消费,同样可以使用<code>Ctrl+C</code>退出消费者的交互模式,消息会被持久化到kafka中,所以消息可以被消费多次以及被多个消费者消费,比如我们再打开一个窗口,执行消费的命令</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost kafka_2.13-2.8.0<span class="token punctuation">]</span><span class="token comment"># bin/kafka-console-consumer.sh --topic quickstart-events --from-beginning --bootstrap-server localhost:9092</span>
hello
hello world
this is first kafka message

可以看到,新的消费者又消费到了刚才的消息


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="kafka的java客户端"><a href="#kafka的java客户端" class="header-anchor">#</a> Kafka的Java客户端</h2> <h3 id="依赖"><a href="#依赖" class="header-anchor">#</a> 依赖</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.kafka<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>kafka-streams<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.kafka<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-kafka<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.kafka<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-kafka-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="修改kafka配置"><a href="#修改kafka配置" class="header-anchor">#</a> 修改kafka配置</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>修改config/server.properties
<span class="token assign-left variable">listeners</span><span class="token operator">=</span>PLAINTEXT://0.0.0.0:9092
advertised.listeners<span class="token operator">=</span>PLAINTEXT://192.168.174.130:9092
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="开放虚拟机端口9092"><a href="#开放虚拟机端口9092" class="header-anchor">#</a> 开放虚拟机端口9092</h3> <p><code>firewall-cmd --zone=public --add-port=9092/tcp --permanent</code></p> <p><code>firewall-cmd --reload</code></p> <h3 id="生产者"><a href="#生产者" class="header-anchor">#</a> 生产者</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * @author xc
 * @description
 * @createdTime 2021/5/10 23:58
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">KafkaProducerTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">kafkaProducerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        properties<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;bootstrap.servers&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;192.168.174.130:9092&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        properties<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;acks&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        properties<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;retries&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        properties<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;batch.size&quot;</span><span class="token punctuation">,</span> <span class="token number">16384</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        properties<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;linger.ms&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        properties<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;buffer.memory&quot;</span><span class="token punctuation">,</span> <span class="token number">33554432</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        properties<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;key.serializer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;org.apache.kafka.common.serialization.StringSerializer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        properties<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;value.serializer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;org.apache.kafka.common.serialization.StringSerializer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">KafkaProducer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> producer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">KafkaProducer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            producer<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ProducerRecord</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;Kafka message &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;发送了消息&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        producer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><ul><li><p><code>send()</code>方法是异步的,添加消息到缓冲区等待发送并立即return,生产者会将单个消息批量在一起进行发送</p></li> <li><p><code>ack</code>是判断是否发送成功的,<code>all</code>将会阻塞消息,这种性能是最低的,但是是最可靠的</p></li> <li><p><code>retries</code>,如果请求失败,生产者会自动重试,如果启用重试,可能会产生重复消息</p></li> <li><p>producer缓存每个分区未发送的消息,缓存的大小通过<code>batch.size</code>配置指定,数值较大会产生更大的批次并需要更大的内存</p> <p>默认缓冲可立即发送,即使缓存空间没有满,但是如果想减少请求的数量,可设置<code>linger.ms</code>大于0,这将让生产者在发送请求前等待一会儿,希望更多的消息来填补到缓冲区中</p></li> <li><p><code>buffer.memory</code>控制生产者可用的缓存总量,如果消息发送速度比其传输到服务器的快,将会耗尽缓存空间,当缓存空间耗尽时,其他发送调用将会被阻塞,阻塞实践的阈值通过<code>max.block.ms</code>设定,之后它将抛出一个TimeoutException</p></li> <li><p><code>key.serializer</code>和<code>value.serializer</code>将用户提供的key和value对象ProducerRecord转换成字节,可以使用附带 的<strong>ByteArraySerializer</strong>或<strong>StringSeriializer</strong>处理byte或string类型</p></li></ul> <h3 id="消费者"><a href="#消费者" class="header-anchor">#</a> 消费者</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * @author xc
 * @description
 * @createdTime 2021/5/10 23:59
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">KafkaConsumerTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">kafkaConsumerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Properties</span> props <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;bootstrap.servers&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;192.168.174.130:9092&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;group.id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;enable.auto.commit&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;auto.commit.interval.ms&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;key.deserializer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;value.deserializer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">KafkaConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> consumer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">KafkaConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        consumer<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">singletonList</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">ConsumerRecords</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> records <span class="token operator">=</span> consumer<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">ofMillis</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">ConsumerRecord</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">record</span> <span class="token operator">:</span> records<span class="token punctuation">)</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;offset = %d, key = %s, value = %s%n&quot;</span><span class="token punctuation">,</span> <span class="token keyword">record</span><span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">record</span><span class="token punctuation">.</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">record</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><ul><li><code>enable.auto.commit</code>自动提交偏移量,<code>auto.commit.interval.ms</code>控制提交的频率</li> <li>客户端订阅了名为<code>test</code>的topic,消费者组叫test</li> <li>broker通过心跳检测test消费组中的进程,消费者会自动ping集群,告诉集群他还活着,只要消费者停止心跳的时间超过了<code>session.timeout.ms</code>就会被认定为故障,它的分区将会被分配到别的进程</li></ul> <h3 id="启动"><a href="#启动" class="header-anchor">#</a> 启动</h3> <p>先启动消费者,后启动生产者,可以看到消费者的终端输出了</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>offset <span class="token operator">=</span> <span class="token number">502</span>, key <span class="token operator">=</span> <span class="token number">0</span>, value <span class="token operator">=</span> Kafka message <span class="token number">0</span>
offset <span class="token operator">=</span> <span class="token number">503</span>, key <span class="token operator">=</span> <span class="token number">1</span>, value <span class="token operator">=</span> Kafka message <span class="token number">1</span>
offset <span class="token operator">=</span> <span class="token number">504</span>, key <span class="token operator">=</span> <span class="token number">2</span>, value <span class="token operator">=</span> Kafka message <span class="token number">2</span>
offset <span class="token operator">=</span> <span class="token number">505</span>, key <span class="token operator">=</span> <span class="token number">3</span>, value <span class="token operator">=</span> Kafka message <span class="token number">3</span>
offset <span class="token operator">=</span> <span class="token number">506</span>, key <span class="token operator">=</span> <span class="token number">4</span>, value <span class="token operator">=</span> Kafka message <span class="token number">4</span>
offset <span class="token operator">=</span> <span class="token number">507</span>, key <span class="token operator">=</span> <span class="token number">5</span>, value <span class="token operator">=</span> Kafka message <span class="token number">5</span>
offset <span class="token operator">=</span> <span class="token number">508</span>, key <span class="token operator">=</span> <span class="token number">6</span>, value <span class="token operator">=</span> Kafka message <span class="token number">6</span>
offset <span class="token operator">=</span> <span class="token number">509</span>, key <span class="token operator">=</span> <span class="token number">7</span>, value <span class="token operator">=</span> Kafka message <span class="token number">7</span>
offset <span class="token operator">=</span> <span class="token number">510</span>, key <span class="token operator">=</span> <span class="token number">8</span>, value <span class="token operator">=</span> Kafka message <span class="token number">8</span>
offset <span class="token operator">=</span> <span class="token number">511</span>, key <span class="token operator">=</span> <span class="token number">9</span>, value <span class="token operator">=</span> Kafka message <span class="token number">9</span>
offset <span class="token operator">=</span> <span class="token number">512</span>, key <span class="token operator">=</span> <span class="token number">10</span>, value <span class="token operator">=</span> Kafka message <span class="token number">10</span>
offset <span class="token operator">=</span> <span class="token number">513</span>, key <span class="token operator">=</span> <span class="token number">11</span>, value <span class="token operator">=</span> Kafka message <span class="token number">11</span>
offset <span class="token operator">=</span> <span class="token number">514</span>, key <span class="token operator">=</span> <span class="token number">12</span>, value <span class="token operator">=</span> Kafka message <span class="token number">12</span>
offset <span class="token operator">=</span> <span class="token number">515</span>, key <span class="token operator">=</span> <span class="token number">13</span>, value <span class="token operator">=</span> Kafka message <span class="token number">13</span>
offset <span class="token operator">=</span> <span class="token number">516</span>, key <span class="token operator">=</span> <span class="token number">14</span>, value <span class="token operator">=</span> Kafka message <span class="token number">14</span>
offset <span class="token operator">=</span> <span class="token number">517</span>, key <span class="token operator">=</span> <span class="token number">15</span>, value <span class="token operator">=</span> Kafka message <span class="token number">15</span>
offset <span class="token operator">=</span> <span class="token number">518</span>, key <span class="token operator">=</span> <span class="token number">16</span>, value <span class="token operator">=</span> Kafka message <span class="token number">16</span>
offset <span class="token operator">=</span> <span class="token number">519</span>, key <span class="token operator">=</span> <span class="token number">17</span>, value <span class="token operator">=</span> Kafka message <span class="token number">17</span>
offset <span class="token operator">=</span> <span class="token number">520</span>, key <span class="token operator">=</span> <span class="token number">18</span>, value <span class="token operator">=</span> Kafka message <span class="token number">18</span>
offset <span class="token operator">=</span> <span class="token number">521</span>, key <span class="token operator">=</span> <span class="token number">19</span>, value <span class="token operator">=</span> Kafka message <span class="token number">19</span>
offset <span class="token operator">=</span> <span class="token number">522</span>, key <span class="token operator">=</span> <span class="token number">20</span>, value <span class="token operator">=</span> Kafka message <span class="token number">20</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="springboot集成kafka"><a href="#springboot集成kafka" class="header-anchor">#</a> springboot集成kafka</h2> <h3 id="依赖-2"><a href="#依赖-2" class="header-anchor">#</a> 依赖</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.kafka<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-kafka<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="生产者-2"><a href="#生产者-2" class="header-anchor">#</a> 生产者</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * @author xc
 * @description
 * @createdTime 2021/5/10 21:49
 */</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/kafka&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">KafkaDemoProducer</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">KafkaTemplate</span> kafkaTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/send/{msg}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ListenableFuture</span> send <span class="token operator">=</span> kafkaTemplate<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;springboot-kafka&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;测试发送:&quot;</span> <span class="token operator">+</span> msg <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>send<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;发送成功&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="消费者-2"><a href="#消费者-2" class="header-anchor">#</a> 消费者</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * @author xc
 * @description
 * @createdTime 2021/5/15 23:55
 */</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">KafkaDemoConsumer</span> <span class="token punctuation">{</span>


    <span class="token annotation punctuation">@KafkaListener</span><span class="token punctuation">(</span>topics <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;springboot-kafka&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span><span class="token class-name">ConsumerRecord</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">record</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;接收消息:&quot;</span> <span class="token operator">+</span> <span class="token keyword">record</span><span class="token punctuation">.</span><span class="token function">topic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> <span class="token keyword">record</span><span class="token punctuation">.</span><span class="token function">partition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> <span class="token keyword">record</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="测试"><a href="#测试" class="header-anchor">#</a> 测试</h3> <ul><li><p>启动应用</p></li> <li><p>发送消息</p> <p><img src="https://io.storyxc.com/image-20210516155645928.png" alt=""></p></li> <li><p>日志</p></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">2021</span>-05-16 <span class="token number">15</span>:56:18.430  INFO <span class="token number">10808</span> --- <span class="token punctuation">[</span>nio-8080-exec-1<span class="token punctuation">]</span> o.a.kafka.common.utils.AppInfoParser     <span class="token builtin class-name">:</span> Kafka version: <span class="token number">2.6</span>.0
<span class="token number">2021</span>-05-16 <span class="token number">15</span>:56:18.430  INFO <span class="token number">10808</span> --- <span class="token punctuation">[</span>nio-8080-exec-1<span class="token punctuation">]</span> o.a.kafka.common.utils.AppInfoParser     <span class="token builtin class-name">:</span> Kafka commitId: 62abe01bee039651
<span class="token number">2021</span>-05-16 <span class="token number">15</span>:56:18.430  INFO <span class="token number">10808</span> --- <span class="token punctuation">[</span>nio-8080-exec-1<span class="token punctuation">]</span> o.a.kafka.common.utils.AppInfoParser     <span class="token builtin class-name">:</span> Kafka startTimeMs: <span class="token number">1621151778430</span>
<span class="token number">2021</span>-05-16 <span class="token number">15</span>:56:18.435  INFO <span class="token number">10808</span> --- <span class="token punctuation">[</span>ad <span class="token operator">|</span> producer-1<span class="token punctuation">]</span> org.apache.kafka.clients.Metadata        <span class="token builtin class-name">:</span> <span class="token punctuation">[</span>Producer <span class="token assign-left variable">clientId</span><span class="token operator">=</span>producer-1<span class="token punctuation">]</span> Cluster ID: t54vUJ_qTWm-o8WmD-dfag
org.springframework.util.concurrent.SettableListenableFuture@2a59dc33
接收消息:springboot-kafka-0-测试发送:hello-1621151778418
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/glaucus/edit/main/docs/02.java/03.中间件/04.kakfa实践.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/./tags/?tag=kafka" title="标签">#kafka</a><a href="/./tags/?tag=%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97" title="标签">#消息队列</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/08/31, 11:25:15</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/./pages/b9600f/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">kafka学习记录</div></a> <a href="/./pages/1b7ea7/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">kakfa重复消费问题处理</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/./pages/b9600f/" class="prev">kafka学习记录</a></span> <span class="next"><a href="/./pages/1b7ea7/">kakfa重复消费问题处理</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="https://github.com/glaucus169" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/glaucusZh" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="mailto:storyxc@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2022
    <span><a href="http://storyxc.com" target="_blank" style="font-weight:bold">story</a> | <a href="http://beian.miit.gov.cn/" target=_blank>豫ICP备19046036号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="./assets/js/app.ed7a6a80.js" defer></script><script src="./assets/js/2.6bc427bd.js" defer></script><script src="./assets/js/28.9ce70dfe.js" defer></script>
  </body>
</html>
