<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring Cloud Config接入 | 百草春生</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/assets/img/favicon.ico">
    <meta name="description" content="glaucus技术博客">
    <meta name="author" content="百草春生">
    <meta name="keywords" content="Java,Golang,后端开发">
    
    <link rel="preload" href="/assets/css/0.styles.7305967a.css" as="style"><link rel="preload" href="/assets/js/app.a60af80f.js" as="script"><link rel="preload" href="/assets/js/2.6bc427bd.js" as="script"><link rel="preload" href="/assets/js/20.91442b10.js" as="script"><link rel="prefetch" href="/assets/js/10.a5e3d93c.js"><link rel="prefetch" href="/assets/js/100.00c86aaa.js"><link rel="prefetch" href="/assets/js/101.28ee35b5.js"><link rel="prefetch" href="/assets/js/102.7779693f.js"><link rel="prefetch" href="/assets/js/103.359357f4.js"><link rel="prefetch" href="/assets/js/11.75712ca1.js"><link rel="prefetch" href="/assets/js/12.2979ec84.js"><link rel="prefetch" href="/assets/js/13.b71512ef.js"><link rel="prefetch" href="/assets/js/14.82d3326b.js"><link rel="prefetch" href="/assets/js/15.f9f3093d.js"><link rel="prefetch" href="/assets/js/16.51dd9ff1.js"><link rel="prefetch" href="/assets/js/17.0db74b9b.js"><link rel="prefetch" href="/assets/js/18.12de42a1.js"><link rel="prefetch" href="/assets/js/19.744b2412.js"><link rel="prefetch" href="/assets/js/21.dcac2fab.js"><link rel="prefetch" href="/assets/js/22.f309628e.js"><link rel="prefetch" href="/assets/js/23.c0034a76.js"><link rel="prefetch" href="/assets/js/24.c4d43955.js"><link rel="prefetch" href="/assets/js/25.cc25fdd5.js"><link rel="prefetch" href="/assets/js/26.cfb70462.js"><link rel="prefetch" href="/assets/js/27.5ff9e71c.js"><link rel="prefetch" href="/assets/js/28.64a0e9e4.js"><link rel="prefetch" href="/assets/js/29.fd07451c.js"><link rel="prefetch" href="/assets/js/3.94f5e9c9.js"><link rel="prefetch" href="/assets/js/30.ccde335c.js"><link rel="prefetch" href="/assets/js/31.f472c9d7.js"><link rel="prefetch" href="/assets/js/32.0ee8786c.js"><link rel="prefetch" href="/assets/js/33.5978dd53.js"><link rel="prefetch" href="/assets/js/34.6ed0e673.js"><link rel="prefetch" href="/assets/js/35.266bbce9.js"><link rel="prefetch" href="/assets/js/36.8fec5b91.js"><link rel="prefetch" href="/assets/js/37.598797b7.js"><link rel="prefetch" href="/assets/js/38.bffc1a9f.js"><link rel="prefetch" href="/assets/js/39.a496adf1.js"><link rel="prefetch" href="/assets/js/4.e5ac8b52.js"><link rel="prefetch" href="/assets/js/40.1c502242.js"><link rel="prefetch" href="/assets/js/41.8e124ccd.js"><link rel="prefetch" href="/assets/js/42.752f28b9.js"><link rel="prefetch" href="/assets/js/43.b58de8ba.js"><link rel="prefetch" href="/assets/js/44.7c43e4ce.js"><link rel="prefetch" href="/assets/js/45.cbb80335.js"><link rel="prefetch" href="/assets/js/46.89d25578.js"><link rel="prefetch" href="/assets/js/47.bf5ae339.js"><link rel="prefetch" href="/assets/js/48.98c7dce0.js"><link rel="prefetch" href="/assets/js/49.fbe69aaf.js"><link rel="prefetch" href="/assets/js/5.c11f0763.js"><link rel="prefetch" href="/assets/js/50.2fcc044a.js"><link rel="prefetch" href="/assets/js/51.99003659.js"><link rel="prefetch" href="/assets/js/52.538d5e22.js"><link rel="prefetch" href="/assets/js/53.e429e1ed.js"><link rel="prefetch" href="/assets/js/54.12c19d84.js"><link rel="prefetch" href="/assets/js/55.0e68945e.js"><link rel="prefetch" href="/assets/js/56.90e8bdf9.js"><link rel="prefetch" href="/assets/js/57.bd49cc5b.js"><link rel="prefetch" href="/assets/js/58.696f8423.js"><link rel="prefetch" href="/assets/js/59.4c8889c1.js"><link rel="prefetch" href="/assets/js/6.513c8ad6.js"><link rel="prefetch" href="/assets/js/60.7b7fc59a.js"><link rel="prefetch" href="/assets/js/61.3a408ed7.js"><link rel="prefetch" href="/assets/js/62.a3630e78.js"><link rel="prefetch" href="/assets/js/63.6ab9d691.js"><link rel="prefetch" href="/assets/js/64.55200531.js"><link rel="prefetch" href="/assets/js/65.a636362c.js"><link rel="prefetch" href="/assets/js/66.93548848.js"><link rel="prefetch" href="/assets/js/67.b4b0ef80.js"><link rel="prefetch" href="/assets/js/68.d1d2dc74.js"><link rel="prefetch" href="/assets/js/69.d4084719.js"><link rel="prefetch" href="/assets/js/7.d7234ee7.js"><link rel="prefetch" href="/assets/js/70.eb2795e9.js"><link rel="prefetch" href="/assets/js/71.a384c362.js"><link rel="prefetch" href="/assets/js/72.ffd104b3.js"><link rel="prefetch" href="/assets/js/73.6e866b22.js"><link rel="prefetch" href="/assets/js/74.665afdfe.js"><link rel="prefetch" href="/assets/js/75.ddfc34cd.js"><link rel="prefetch" href="/assets/js/76.3deef890.js"><link rel="prefetch" href="/assets/js/77.ed7f59af.js"><link rel="prefetch" href="/assets/js/78.47663224.js"><link rel="prefetch" href="/assets/js/79.caf768e6.js"><link rel="prefetch" href="/assets/js/8.2ed94147.js"><link rel="prefetch" href="/assets/js/80.be6fcda9.js"><link rel="prefetch" href="/assets/js/81.ce94b545.js"><link rel="prefetch" href="/assets/js/82.10845c61.js"><link rel="prefetch" href="/assets/js/83.fb214e4c.js"><link rel="prefetch" href="/assets/js/84.fe9f3b95.js"><link rel="prefetch" href="/assets/js/85.b6e913aa.js"><link rel="prefetch" href="/assets/js/86.ebf0c7ae.js"><link rel="prefetch" href="/assets/js/87.70d8e15f.js"><link rel="prefetch" href="/assets/js/88.44a94037.js"><link rel="prefetch" href="/assets/js/89.cd714385.js"><link rel="prefetch" href="/assets/js/9.26dd2b53.js"><link rel="prefetch" href="/assets/js/90.495c0af0.js"><link rel="prefetch" href="/assets/js/91.e3dcaece.js"><link rel="prefetch" href="/assets/js/92.938231e1.js"><link rel="prefetch" href="/assets/js/93.24cd1edf.js"><link rel="prefetch" href="/assets/js/94.e7f95d83.js"><link rel="prefetch" href="/assets/js/95.d6eddedc.js"><link rel="prefetch" href="/assets/js/96.fd85d1af.js"><link rel="prefetch" href="/assets/js/97.d8c96ef8.js"><link rel="prefetch" href="/assets/js/98.8d262881.js"><link rel="prefetch" href="/assets/js/99.38434a69.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7305967a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">百草春生</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/pages/8c2319/" class="nav-link">指南</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="模块" class="dropdown-title"><!----> <span class="title" style="display:;">模块</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/bf6a41/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/pages/416f59/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/pages/416f59/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/pages/ecb94e/" class="nav-link">Golang</a></li><li class="dropdown-item"><!----> <a href="/pages/eeefb8/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/pages/5111ec/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/pages/de595b/" class="nav-link">折腾</a></li></ul></div></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/glaucus" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/pages/8c2319/" class="nav-link">指南</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="模块" class="dropdown-title"><!----> <span class="title" style="display:;">模块</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/bf6a41/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/pages/416f59/" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/pages/416f59/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/pages/ecb94e/" class="nav-link">Golang</a></li><li class="dropdown-item"><!----> <a href="/pages/eeefb8/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/pages/5111ec/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/pages/de595b/" class="nav-link">折腾</a></li></ul></div></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/glaucus" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/bf6a41/" class="sidebar-link">简介</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Java基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1b4c22/" class="sidebar-link">String类的深入学习</a></li><li><a href="/pages/5e3bc5/" class="sidebar-link">HashMap源码学习</a></li><li><a href="/pages/ebaf05/" class="sidebar-link">Java8新特性回顾</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Java框架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/997b00/" class="sidebar-link">POI事件模式解析并读取Excel文件数据</a></li><li><a href="/pages/d33c3f/" class="sidebar-link">SpringMVC的执行流程源码分析</a></li><li><a href="/pages/a9aa56/" class="sidebar-link">netty+websocket实现即时通讯功能</a></li><li><a href="/pages/4f6cc1/" class="sidebar-link">分布式定时任务解决方案xxl-job</a></li><li><a href="/pages/394d6d/" class="sidebar-link">spring-session实现集群session共享</a></li><li><a href="/pages/e8a5ba/" class="sidebar-link">springcloud优雅下线服务</a></li><li><a href="/pages/035d06/" class="sidebar-link">Java日志发展历史</a></li><li><a href="/pages/af13b1/" class="sidebar-link">Mybatis Generator配置</a></li><li><a href="/pages/72069a/" class="sidebar-link">JavaSPI机制和Springboot自动装配原理</a></li><li><a href="/pages/9e812c/" aria-current="page" class="active sidebar-link">Spring Cloud Config接入</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/9e812c/#spring-cloud-config" class="sidebar-link">Spring Cloud Config</a></li><li class="sidebar-sub-header"><a href="/pages/9e812c/#配合git仓库使用" class="sidebar-link">配合git仓库使用</a></li><li class="sidebar-sub-header"><a href="/pages/9e812c/#服务端" class="sidebar-link">服务端</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/9e812c/#依赖" class="sidebar-link">依赖</a></li><li class="sidebar-sub-header"><a href="/pages/9e812c/#配置文件" class="sidebar-link">配置文件</a></li><li class="sidebar-sub-header"><a href="/pages/9e812c/#启动类" class="sidebar-link">启动类</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/9e812c/#服务端-2" class="sidebar-link">服务端</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/9e812c/#依赖-2" class="sidebar-link">依赖</a></li><li class="sidebar-sub-header"><a href="/pages/9e812c/#配置文件-2" class="sidebar-link">配置文件</a></li><li class="sidebar-sub-header"><a href="/pages/9e812c/#discovery-first-bootstrap" class="sidebar-link">Discovery First Bootstrap</a></li></ul></li></ul></li><li><a href="/pages/3ec180/" class="sidebar-link">使用spring validation进行参数校验</a></li><li><a href="/pages/f54d45/" class="sidebar-link">dubbo接口超时配置</a></li><li><a href="/pages/ad98f4/" class="sidebar-link">ConfigurationProperties注解</a></li><li><a href="/pages/686387/" class="sidebar-link">EasyExcel导出excel</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>中间件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/8abe9c/" class="sidebar-link">分布式锁解决方案</a></li><li><a href="/pages/67b290/" class="sidebar-link">关于消息中间件MQ</a></li><li><a href="/pages/b9600f/" class="sidebar-link">kafka学习记录</a></li><li><a href="/pages/d814c5/" class="sidebar-link">kakfa实践</a></li><li><a href="/pages/1b7ea7/" class="sidebar-link">kakfa重复消费问题处理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/c0bb8c/" class="sidebar-link">MySql索引</a></li><li><a href="/pages/2417e1/" class="sidebar-link">SQL优化学习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>开发工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/035fc5/" class="sidebar-link">Maven的生命周期</a></li><li><a href="/pages/da5079/" class="sidebar-link">nexus无法下载依赖的问题记录</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/ff387b/" class="sidebar-link">linux服务器安装OpenOffice踩坑</a></li><li><a href="/pages/ffedcb/" class="sidebar-link">POI踩坑-zip file is closed</a></li><li><a href="/pages/580d33/" class="sidebar-link">OpenJDK没有jstack等命令的解决办法</a></li><li><a href="/pages/6889f4/" class="sidebar-link">微信小程序加密数据对称解密工具类</a></li><li><a href="/pages/7c3bf4/" class="sidebar-link">mybatis的classpath配置导致的jar包读取问题</a></li><li><a href="/pages/4f835e/" class="sidebar-link">feign请求导致的用户ip获取问题记录</a></li><li><a href="/pages/3c525b/" class="sidebar-link">ribbon刷新服务列表间隔和canal的坑</a></li><li><a href="/pages/e048ec/" class="sidebar-link">cpu占用率高排查思路</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>spring</span> <!----></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1cd794fe><div class="articleInfo" data-v-1cd794fe><ul class="breadcrumbs" data-v-1cd794fe><li data-v-1cd794fe><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-1cd794fe></a></li> <li data-v-1cd794fe><a href="/categories/?category=java" title="分类" data-v-1cd794fe>java</a></li> <li data-v-1cd794fe><a href="/categories/?category=Java%E6%A1%86%E6%9E%B6" title="分类" data-v-1cd794fe>Java框架</a></li> <!----></ul> <div class="info" data-v-1cd794fe><div title="作者" class="author iconfont icon-touxiang" data-v-1cd794fe><a href="https://github.com/glaucus169" target="_blank" title="作者" class="beLink" data-v-1cd794fe>glaucus</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1cd794fe><a href="javascript:;" data-v-1cd794fe>2022-04-16</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">
          Spring Cloud Config接入
        </h1>  <div class="theme-vdoing-content content__default"><h1 id="spring-cloud-config接入"><a href="#spring-cloud-config接入" class="header-anchor">#</a> Spring Cloud Config接入</h1> <p>微服务配置中心能帮助统一管理多个环境、多个应用程序的外部化配置，不需要在某个配置有改动或新增某个配置项时去多个节点上一个个修改，做到了一次改动，处处使用。这里和Eureka注册中心配合使用。</p> <h2 id="spring-cloud-config"><a href="#spring-cloud-config" class="header-anchor">#</a> Spring Cloud Config</h2> <p>SpringCloud子项目，提供了分布式系统中外部配置管理的能力，分为<code>server</code>和<code>client</code>两部分。<a href="https://spring.io/projects/spring-cloud-config" target="_blank" rel="noopener noreferrer">官网地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="配合git仓库使用"><a href="#配合git仓库使用" class="header-anchor">#</a> 配合git仓库使用</h2> <p>建立一个git仓库，将配置文件放在仓库里，配置文件格式应用名-profile.properties(yml)，多服务的情况包名可根据服务前缀命名，在配置中心server端配置中增加search-path配置即可，比如多个包名app-1/app-2，可以配置search-path：app-*</p> <h2 id="服务端"><a href="#服务端" class="header-anchor">#</a> 服务端</h2> <h3 id="依赖"><a href="#依赖" class="header-anchor">#</a> 依赖</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-config-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="配置文件"><a href="#配置文件" class="header-anchor">#</a> 配置文件</h3> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8077</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> spring<span class="token punctuation">-</span>cloud<span class="token punctuation">-</span>config<span class="token punctuation">-</span>center
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">server</span><span class="token punctuation">:</span>
        <span class="token key atrule">git</span><span class="token punctuation">:</span>
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> git仓库地址
          <span class="token key atrule">username</span><span class="token punctuation">:</span> 账号
          <span class="token key atrule">password</span><span class="token punctuation">:</span> 密码
          <span class="token key atrule">search-paths</span><span class="token punctuation">:</span> app<span class="token punctuation">-</span>* <span class="token comment">#搜索路径，使用通配符</span>

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//admin<span class="token punctuation">:</span>admin@127.0.0.1<span class="token punctuation">:</span>19991/eureka/
      <span class="token key atrule">fetch-registry-interval-seconds</span><span class="token punctuation">:</span> <span class="token number">5</span>

  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">lease-expiration-duration-in-seconds</span><span class="token punctuation">:</span> <span class="token number">30</span>
    <span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="启动类"><a href="#启动类" class="header-anchor">#</a> 启动类</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableEurekaClient</span>
<span class="token annotation punctuation">@EnableConfigServer</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigCenterApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ConfigCenterApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="服务端-2"><a href="#服务端-2" class="header-anchor">#</a> 服务端</h2> <h3 id="依赖-2"><a href="#依赖-2" class="header-anchor">#</a> 依赖</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--springcloud config客户端--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-config-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="配置文件-2"><a href="#配置文件-2" class="header-anchor">#</a> 配置文件</h3> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> app<span class="token punctuation">-</span><span class="token number">1</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">profile</span><span class="token punctuation">:</span> @spring.profiles.active@
      <span class="token key atrule">label</span><span class="token punctuation">:</span> master
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">service-id</span><span class="token punctuation">:</span> spring<span class="token punctuation">-</span>cloud<span class="token punctuation">-</span>config<span class="token punctuation">-</span>center
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//admin<span class="token punctuation">:</span>admin@127.0.0.1<span class="token punctuation">:</span>19991/eureka/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>SpringCloudConfig配合服务发现使用时，必须在bootstrap.yaml(或环境变量)开启服务发现<code>spring.cloud.config.discovery.enabled=true</code>，并且要配置注册中心的地址<code>eureka.client.serviceUrl.defaultZone</code>，服务启动时会首先去注册中心找到配置中心server。</p></div> <h4 id="以下引自官网"><a href="#以下引自官网" class="header-anchor">#</a> 以下引自官网</h4> <blockquote><h3 id="discovery-first-bootstrap"><a href="#discovery-first-bootstrap" class="header-anchor">#</a> <a href="https://docs.spring.io/spring-cloud-config/docs/2.2.8.RELEASE/reference/html/#discovery-first-bootstrap" target="_blank" rel="noopener noreferrer">Discovery First Bootstrap<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>If you use a <code>DiscoveryClient</code> implementation, such as Spring Cloud Netflix and Eureka Service Discovery or Spring Cloud Consul, you can have the Config Server register with the Discovery Service. However, in the default “Config First” mode, clients cannot take advantage of the registration.</p> <p>If you prefer to use <code>DiscoveryClient</code> to locate the Config Server, you can do so by setting <code>spring.cloud.config.discovery.enabled=true</code> (the default is <code>false</code>). The net result of doing so is that client applications all need a <code>bootstrap.yml</code> (or an environment variable) with the appropriate discovery configuration. For example, with Spring Cloud Netflix, you need to define the Eureka server address (for example, in <code>eureka.client.serviceUrl.defaultZone</code>). The price for using this option is an extra network round trip on startup, to locate the service registration. The benefit is that, as long as the Discovery Service is a fixed point, the Config Server can change its coordinates. The default service ID is <code>configserver</code>, but you can change that on the client by setting <code>spring.cloud.config.discovery.serviceId</code> (and on the server, in the usual way for a service, such as by setting <code>spring.application.name</code>).</p></blockquote></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/glaucus/edit/main/docs/02.java/02.Java框架/10.Spring Cloud Config接入.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=springcloud" title="标签">#springcloud</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/08/31, 11:25:15</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/72069a/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">JavaSPI机制和Springboot自动装配原理</div></a> <a href="/pages/3ec180/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">使用spring validation进行参数校验</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/72069a/" class="prev">JavaSPI机制和Springboot自动装配原理</a></span> <span class="next"><a href="/pages/3ec180/">使用spring validation进行参数校验</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="https://github.com/glaucus169" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/glaucusZh" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="mailto:storyxc@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2022
    <span><a href="http://storyxc.com" target="_blank" style="font-weight:bold">story</a> | <a href="http://beian.miit.gov.cn/" target=_blank>豫ICP备19046036号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a60af80f.js" defer></script><script src="/assets/js/2.6bc427bd.js" defer></script><script src="/assets/js/20.91442b10.js" defer></script>
  </body>
</html>
